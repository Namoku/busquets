<!-- Se probo en Edge y Firefox -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Cuestionario</title>
    <link rel="stylesheet" href="styles.css" >
  </head>
    <body>
      <div class="body">
        <div class="container">
          <div class="header">
            <h1>Actividad 2</h1>
          </div>
          <form onsubmit="return verifyPassword()">
            <div class="section">
              <h3>Datos personales</h3>
              <div class="inputGroup">
                <label class="required" for="nombre">Nombre Usuario</label>
                <input id="nombre" type="text" placeholder="pedro123..." required >
              </div>
                <div class="inputGroup">
                  <label class="required" for="contraseña">Contraseña</label>
                  <input id="contraseña" type="password" placeholder="Debe coincidir..." required >
                </div>
                  <div class="inputGroup">
                    <label class="required" for="contraseñaDoble">Repetir contraseña</label>
                    <input id="contraseñaDoble" type="password" placeholder="Debe coincidir..." required >
                    <label class="passwordError"></label>
                  </div>
                  <div class="inputGroup">
                    <label class="required" for="email">E-mail contacto</label>
                    <input type="email" id="email" required >
                  </div>
            </div>
            <div class="section">
              <h3>Datos de hospedaje</h3>
              <div class="inputGroup">
                <label class="required" for="minFecha">Fecha inicio</label>
                <input id="minFecha" name="minFecha" type="date" required >
              </div>
                <div class="inputGroup">
                  <label class="required" for="maxFecha">Fecha final</label>
                  <input id="maxFecha" name="maxFecha" type="date" required >
                </div>
                  <div class="inputGroup">
                    <label for="direccion">Direccion</label>
                    <input id="direccion" type="text" >
                  </div>
                    <div class="inputGroup">
                      <label for="ciudad">Ciudad</label>
                      <input id="ciudad" type="text" >
                    </div>
                      <div class="inputGroup">
                        <label for="provincia">Provincia</label>
                        <input id="provincia" type="text" >
                      </div>
                        <div class="inputGroup">
                          <label for="numeroHuespedes">Numero de Huespedes</label>
                          <input id="numeroHuespedes" type="number" >
                        </div>
            </div>
            <div class="section">
              <h3>Servicios</h3>
              <div class="inputGroupButton">
                <input type="checkbox" id="ac" >
                <label for="ac" >Aire Acondicionado</label>
              </div>
                <div class="inputGroupButton">
                  <input type="checkbox" id="almohadas" >
                  <label for="almohadas" >Almohadas a la carta</label>
                </div>
                  <div class="inputGroupButton">
                    <input type="checkbox" id="cajaFuerte" >
                    <label for="cajaFuerte" >Caja fuerte</label>
                  </div>
                    <div class="inputGroupButton">
                      <input type="checkbox" id="detectorHumos" >
                      <label for="detectorHumos" >Detector de humos</label>
                    </div>
                      <div class="inputGroupButton">
                        <input type="checkbox" id="minibar" >
                        <label for="minibar" >Minibar</label>
                      </div>
                        <div class="inputGroupButton">
                          <input type="checkbox" id="mesaTrabajo" >
                          <label for="mesaTrabajo" >Mesa de trabajo</label>
                        </div>
                          <div class="inputGroupButton">
                            <input type="checkbox" id="internet" >
                            <label for="internet" >Conexion a Internet</label>
                          </div>
                            <div class="inputGroupButton">
                              <input type="checkbox" id="wifi" >
                              <label for="wifi" >WiFi</label>
                            </div>
            </div>
            <div class="section">
              <h3>Tipo de habitacion</h3>
              <div class="inputGroupButton">
                <input type="radio" name="suite" id="individual">
                <label for="individual" >Individual</label>
              </div>
              <div class="inputGroupButton">
                <input type="radio" name="suite" id="doble">
                <label for="doble" >Doble</label>
              </div>
              <div class="inputGroupButton">
                <input type="radio" name="suite" id="suite">
                <label for="suite" >Suite</label>
              </div>
            </div>
            <div class="section">
              <h3>Pension</h3>
              <div class="inputGroupButton">
                <input type="radio" name="pension" id="alojamiento">
                <label for="alojamiento" >Alojamiento</label>
              </div>
              <div class="inputGroupButton">
                <input type="radio" name="pension" id="desayuno">
                <label for="desayuno" >Desayuno</label>
              </div>
              <div class="inputGroupButton">
                <input type="radio" name="pension" id="media">
                <label for="media" >Media</label>
              </div>
              <div class="inputGroupButton">
                <input type="radio" name="pension" id="completa">
                <label for="completa" >Completa</label>
              </div>
            </div>
            <div class="section">
              <h3>Comentarios o sugerencias</h3>
              <textarea id="comentarios" name="comentarios" rows="4" cols="33" ></textarea>
            </div>
            <div class="section">
              <div class="inputGroupButton">
                <input type="checkbox" id="termCheck" required >
                <label class="required" for="termCheck">Acepto la politica de privacidad</label>
              </div>
              <div class="buttonGroup">
                <input type="submit" value="Enviar" >
                <input type="reset" value="Limpiar" >
              </div>
            </div>
          </form>
        </div>
      </div>
      <script>
        // Aquí se usan constantes para obtener los elementos del dom.
        const minFecha = document.getElementById("minFecha");
                const maxFecha = document.getElementById("maxFecha");
                const passwordInput = document.querySelectorAll("input[type='password']");
                const passwordError = document.querySelectorAll("label[class=passwordError]");

                // Un evento para asignar los valores minimos para la fecha
                window.addEventListener("load", () => minFecha.min = maxFecha.min = new Date().toISOString().split("T")[0]);

                // Aca asignamos un evento en cada input de la password para que al cambiarse haga una verificacion entre los dos.
                passwordInput.forEach(input => {
                          input.addEventListener("input", () => {
                                    if (passwordInput[0].value !== passwordInput[1].value)
                                      passwordError[0].innerText = "Las contraseñas no coinciden";
                                    else
                                      passwordError[0].innerText  = "";
                                  });
                        });

                // Un evento para cuando se haga el cambio de la fecha, cambie el valor del segundo date como minimo del valor del primer date.
                minFecha.addEventListener("change", () => maxFecha.min = minFecha.value);

                // Es un metodo que regresa false para que el onsubmit no funcione si existe el error de las password.
                const verifyPassword = () => {
                          console.log(passwordInput[0].value !== passwordInput[1].value)
                          if (passwordInput[0].value !== passwordInput[1].value)
                            return false;
                        }
      </script>
    </body>
</html>
